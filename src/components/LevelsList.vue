<template>
    <fetch-data-handler>
        {{t('levels_list')}}
        <ul>
            <li v-for="(level, index) in listLevels" :key="index">
                <router-link :to="{ name: 'Level', params: { boardIndex: level.id } }"> {{level.name}}</router-link>
            </li>
        </ul>
    </fetch-data-handler>
</template>

<script>
// @ is an alias to /src
import { mapState, mapActions } from 'vuex'
import { useI18n } from 'vue-i18n'
import FetchDataHandler from '@/components/FetchDataHandler.vue'

export default {
  name: 'levels-list',
  setup() {
    const { t } = useI18n({
      inheritLocale: true,
      useScope: 'local'
    })

    // Something todo ..

    return { t }
  },
  components: { FetchDataHandler},
  created: function(){
    this.fetchLevels();
  },
  computed: {
    ...mapState([
      'listLevels',
    ]) 
  },
  methods: {
    ...mapActions([
      'fetchLevels',
    ])
  }
}
</script>

<style scoped>
  li {
    list-style: none;
  }
</style>

<i18n>
{
  "en": {
    "levels_list": "Levels list",
    "level": "Level"
  },
  "es" : {
    "levels_list": "Lista de niveles",
    "level": "Nivel"
  },
  "fr" : {
    "levels_list" : "List√© de niveaux",
    "level": "Niveau"
  }
}
</i18n>
